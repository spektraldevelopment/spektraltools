!function(a){"use strict";var b={},c=!1;b.ping=function(){return"Spektral: Hello!"},b.debugMode=function(){return c},b.debug=function(){c=!0},b.queryEl=function(a){var c,d=b.detectCharacter(a,".");return c=d===!0?document.querySelectorAll(a):document.querySelector(a),null!==c?c:void b.log("query: element not found.","warn")},b.addElement=function(a,c,d){var e,f,g,h=document.createElement(c);for(e in d)f=b.hasPattern(e,"data"),"className"===e?h.className=d[e]:"innerHTML"===e?h.innerHTML=d[e]:f.match===!0?(g=b.stripString(e,"data").toLowerCase(),h.setAttribute("data-"+g,d[e])):h.setAttribute(e,d[e]);return a.appendChild(h),h},b.removeElement=function(a){try{a.remove()}catch(b){a.parentNode.removeChild(a)}},b.setAttributes=function(a,c){var d,e,f;for(d in c)e=b.hasPattern(d,"data"),"className"===d?a.setAttribute("class",c[d]):e.match===!0?(f=b.stripString(d,"data").toLowerCase(),a.setAttribute("data-"+f,c[d])):a.setAttribute(d,c[d])},b.getAttributes=function(a){var b,c=a.attributes,d={};if(c.length>=1)for(b=0;b<c.length;b+=1)"class"===c.item(b).nodeName?d.className=c.item(b).value:d[c.item(b).nodeName]=c.item(b).value;return d},b.destroyAttribute=function(a,c){a.hasAttribute(c)?a.removeAttribute(c):b.log("destroyAttribute: element does not have attribute "+c+" set.","warn")},b.moveToAfter=function(a,b){a.parentNode.insertBefore(a,b.nextSibling)},b.moveToBefore=function(a,b){a.parentNode.insertBefore(a,b)},b.clearChildren=function(a){a.innerHTML=""},b.getInnerText=function(a){var b=a.textContent;return void 0===b&&(b=a.innerText),b},b.setInnerText=function(a,c,d){var e,f=b.getInnerText(a),g=b.getParameter(d,"append",!1);g===!0?(e=f+c,a.innerHTML=e):a.innerHTML=c},b.isElement=function(a){var b=!1,c=a.nodeType;return 1===c&&(b=!0),b},b.attachEventListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?(b="on"+b,a.attachEvent(b,c)):a["on"+b]=c},b.detachEventListener=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?(b="on"+b,a.detachEvent(b,c)):a["on"+b]=null},b.createEvent=function(a,c,d,e){c=c||null,d=d||!0,e=e||!0;var f=new CustomEvent(a,{detail:c,bubbles:d,cancelable:e});return void 0===f&&(b.log("createEvent: CustomEvent not available. Using Event instead."),f=new Event(a)),f},b.triggerEvent=function(a,b){a.dispatchEvent(b)},b.getTarget=function(a){return a.relatedTarget||a.fromElement||a.target},b.getTargetID=function(a){return a.target.id},b.roundNum=function(a,c){var d=0,e=b.getParameter(c,"roundType","regular");return"regular"===e?d=Math.round(a):"up"===e?d=Math.ceil(a):"down"===e&&(d=Math.floor(a)),d},b.hasPattern=function(a,b){var c=new RegExp(b,"g"),d=a.match(c),e={};return null!==d?(e.match=!0,e.amount=d.length):e.match=!1,e},b.stripString=function(a,c,d){var e,f,g,h="",i=b.getParameter(d,"mode","all"),j=0;if("all"===i)e=new RegExp(c,"g"),h=a.replace(e,"");else if("first"===i)e=new RegExp(c,""),h=a.replace(e,"");else for(g=0;g<a.length;g+=1)f=a[g],f===c&&(j===i&&(f=f.replace(c,"")),j++),h+=f;return h},b.splitString=function(a,c){var d,e,f,g,h=[],i=b.getParameter(c,"character",",");for(f=b.detectCharacter(a,i),f===!1&&" "!==i?log("splitString: Could not split string because character ["+i+"] was not in string.","warn"):d=a.split(" "!==i?i:/[ ,]+/),e=0;e<d.length;e+=1)""!==d[e]&&(g=b.stripWhiteSpace(d[e]),h.push(g));return h},b.convertToCamel=function(a,c){var d,e,f,g=b.getParameter(c,"character","-"),h=b.splitString(a,{character:g});for(d=h[0],f=0;f<h.length;f+=1)0!==f&&(e=h[f].charAt(0).toUpperCase()+h[f].slice(1),d+=e);return d},b.detectCharacter=function(a,b){b="\\"+b;var c=!1,d=new RegExp(b,"g"),e=a.match(d);return null!==e&&(c=!0),c},b.stripWhiteSpace=function(a,c){var d,e=b.getParameter(c,"stripAll",!1);return d=e!==!1?a.replace(/\s+/g,""):a.replace(/(^\s+|\s+$)/g,"")},b.stripBrackets=function(a){var b;try{b=a.match(/\[(.*?)\]/)[1]}catch(c){}try{b=a.match(/\((.*?)\)/)[1]}catch(c){}try{b=a.match(/\{(.*?)\}/)[1]}catch(c){}return b},b.convertCase=function(a,b){b=b||"lower";var c;return"lower"===b?c=a.toLowerCase():"upper"===b?c=a.toUpperCase():"first"===b&&(c=a.charAt(0).toUpperCase()+a.slice(1)),c},b.trimString=function(a,b,c){return a.substring(b,c)},b.getType=function(a){var b;return b=void 0!==a.nodeName?a.nodeName:{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1],b=b.toLowerCase()},b.getInfo=function(a){var c;try{c=JSON.stringify(a)}catch(d){b.log("getInfo: could not stringify.",a,"dir")}return c},b.isMatch=function(a,c,d){var e=!1,f=b.getParameter(d,"useType",!1),g=b.getType(a),h=b.getType(c);return f===!0?g===h&&(e=!0):a===c&&(e=!0),e},b.stringToNum=function(a){return parseInt(a.replace(/[^0-9.]/g,""),10)},b.isObjectEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},b.arrayHasValue=function(a,b){var c,d=!1;for(c=0;c<a.length;c+=1)a[c]===b&&(d=!0);return d},b.queryArray=function(a,b){var c,d=!1,e=[];for(c=0;c<a.length;c+=1)a[c]===b&&e.push(a[c]);return 1===e.length?d=e[0]:e.length>1&&(d=e),d},b.objectHasKey=function(a,b){var c,d=!1;for(c in a)c===b&&(d=!0);return d},b.queryObject=function(a,b){var c,d=!1;for(c in a)c===b&&(d=a[c]);return d},b.getElementIds=function(a){var c,d={};return c=b.convertCase(a.nodeName),d.id=""!==a.id?a.id:"NOT_SET",d["class"]=""!==a.className?a.className:"NOT_SET",d.node=c,d},b.getParameter=function(a,b,c){var d;return d=void 0!==a?void 0===a[b]?c:a[b]:c},b.getExtension=function(a){var c=b.getType(a);return void 0===a?b.log("getExtension: file is undefined. Did you pass a file name to this function?","warn"):"string"!==c&&b.log("getExtension: file needs to be string.","warn"),a.split(".").pop()},b.log=function(a,b,d){c===!0&&("warn"===b?console.warn(a):"error"===b?console.error(a):"dir"===b?(console.group(a),console.dir(d),console.groupEnd()):console.log(a))},b.logGroup=function(a,b,d){d=d||"nodes";var e;if(c===!0){console.group(a);for(e in b)console.log(e+" : "+b[e]);console.groupEnd()}},a.Spektral=b}(window);